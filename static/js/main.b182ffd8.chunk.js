(this["webpackJsonpbridge-frontend"]=this["webpackJsonpbridge-frontend"]||[]).push([[0],{27:function(e){e.exports=JSON.parse('{"CXS":{"label":"Nxchain","bridge":"","chainId":787,"confirmations":1,"blocktime":1000,"rpc":"","explorer":"https://nxchainscan.com/","service":"bridge","erc20":"ERC20","tokens":{"CXS":{"label":"Pegged CXS","contract":"","decimals":18,"pegging":true},"BUSD":{"label":"Pegged BUSD","contract":"","decimals":18,"pegging":true},"NEXTEP":{"label":"Pegged NEXTEP","contract":"","decimals":18,"pegging":true},"USDT":{"label":"Pegged USDT","contract":"","decimals":18,"pegging":true},"SHIB":{"label":"Pegged SHIB","contract":"","decimals":18,"pegging":true},"DOGE":{"label":"Pegged DOGE","contract":"","decimals":18,"pegging":true},"BTC":{"label":"Pegged BTC","contract":"","decimals":18,"pegging":true},"ETH":{"label":"Pegged ETH","contract":"","decimals":18,"pegging":true},"DAI":{"label":"Pegged DAI","contract":"","decimals":18,"pegging":true},"BNB":{"label":"Pegged BNB","contract":"","decimals":18,"pegging":true},"XRP":{"label":"Pegged XRP","contract":"","decimals":18,"pegging":true},"MATIC":{"label":"Pegged MATIC","contract":"","decimals":18,"pegging":true},"BABYDOGE":{"label":"Pegged BABYDOGE","contract":"","decimals":18,"pegging":true}}},"BNB":{"label":"BNBchain","bridge":"0xC1a4375462bEb257E5bB3B5Fba702BB8948B4816","chainId":56,"confirmations":12,"blocktime":15000,"rpc":"https://bsc-dataseed.binance.org/","explorer":"https://bscscan.com/","service":"https://binance.com","erc20":"BEP20","tokens":{"CXS":{"label":"Pegged CXS","contract":"","decimals":18,"pegging":true},"BUSD":{"label":"Pegged BUSD","contract":"","decimals":18,"pegging":true},"NEXTEP":{"label":"Pegged NEXTEP","contract":"","decimals":18,"pegging":true},"USDT":{"label":"Pegged USDT","contract":"","decimals":18,"pegging":true},"SHIB":{"label":"Pegged SHIB","contract":"","decimals":18,"pegging":true},"DOGE":{"label":"Pegged DOGE","contract":"","decimals":18,"pegging":true},"BTC":{"label":"Pegged BTC","contract":"","decimals":18,"pegging":true},"ETH":{"label":"Pegged ETH","contract":"","decimals":18,"pegging":true},"DAI":{"label":"Pegged DAI","contract":"","decimals":18,"pegging":true},"BNB":{"label":"Pegged BNB","contract":"","decimals":18,"pegging":true},"XRP":{"label":"Pegged XRP","contract":"","decimals":18,"pegging":true},"MATIC":{"label":"Pegged MATIC","contract":"","decimals":18,"pegging":true},"BABYDOGE":{"label":"Pegged BABYDOGE","contract":"","decimals":18,"pegging":true}}}}')},28:function(e){e.exports=JSON.parse('{"CXS":{"label":"Nxchain","bridge":"","chainId":787,"confirmations":1,"blocktime":1000,"rpc":"https://testnet.nxchainscan.com:4444/","explorer":"https://testnet.nxchainscan.com","service":"bridge","erc20":"ERC20","tokens":{"CXS":{"label":"Pegged CXS","contract":"","decimals":18,"pegging":true},"BUSD":{"label":"Pegged BUSD","contract":"","decimals":18,"pegging":true},"NEXTEP":{"label":"Pegged NEXTEP","contract":"","decimals":18,"pegging":true},"USDT":{"label":"Pegged USDT","contract":"","decimals":18,"pegging":true},"SHIB":{"label":"Pegged SHIB","contract":"","decimals":18,"pegging":true},"DOGE":{"label":"Pegged DOGE","contract":"","decimals":18,"pegging":true},"BTC":{"label":"Pegged BTC","contract":"","decimals":18,"pegging":true},"ETH":{"label":"Pegged ETH","contract":"","decimals":18,"pegging":true},"DAI":{"label":"Pegged DAI","contract":"","decimals":18,"pegging":true},"BNB":{"label":"Pegged BNB","contract":"","decimals":18,"pegging":true},"XRP":{"label":"Pegged XRP","contract":"","decimals":18,"pegging":true},"MATIC":{"label":"Pegged MATIC","contract":"","decimals":18,"pegging":true},"BABYDOGE":{"label":"Pegged BABYDOGE","contract":"","decimals":18,"pegging":true}}},"BNB":{"label":"Binance","bridge":"","chainId":97,"confirmations":12,"blocktime":15000,"rpc":"https://data-seed-prebsc-1-s1.binance.org:8545","explorer":"https://testnet.bscscan.com/","service":"https://binance.com","erc20":"BEP20","tokens":{"CXS":{"label":"Pegged CXS","contract":"","decimals":18,"pegging":true},"BUSD":{"label":"Pegged BUSD","contract":"","decimals":18,"pegging":true},"NEXTEP":{"label":"Pegged NEXTEP","contract":"","decimals":18,"pegging":true},"USDT":{"label":"Pegged USDT","contract":"","decimals":18,"pegging":true},"SHIB":{"label":"Pegged SHIB","contract":"","decimals":18,"pegging":true},"DOGE":{"label":"Pegged DOGE","contract":"","decimals":18,"pegging":true},"BTC":{"label":"Pegged BTC","contract":"","decimals":18,"pegging":true},"ETH":{"label":"Pegged ETH","contract":"","decimals":18,"pegging":true},"DAI":{"label":"Pegged DAI","contract":"","decimals":18,"pegging":true},"BNB":{"label":"Pegged BNB","contract":"","decimals":18,"pegging":true},"XRP":{"label":"Pegged XRP","contract":"","decimals":18,"pegging":true},"MATIC":{"label":"Pegged MATIC","contract":"","decimals":18,"pegging":true},"BABYDOGE":{"label":"Pegged BABYDOGE","contract":"","decimals":18,"pegging":true}}}}')},40:function(e){e.exports=JSON.parse('{"lang":"En","chain":"NxchainChain","bridge":"Nxchain Bridge","description":"The safe, fast and most secure way to bring cross-chain assets to NxchainChain.","wallet.connect":"Connect","chain.nxchain":"Nxchain network","chain.eth":"Ethereum network","chain.bnb":"Binance SmartChain","chain.avax":"Avalanche C","chain.matic":"Polygon","chain.trx":"Tron network","chain.ht":"HECO network","token.native":"Native Token","error.11001":"\ud83e\udd8a You must install Metamask into your browser: https://metamask.io/download.html","error.11002":"\ud83e\udd8a Walllet disconnected","error.11003":"\ud83e\udd8a No selected address.","error.11004":"\ud83e\udd8a Unknown error","error.11005":"\ud83e\udd8a Connect to Metamask using the button on the top right.","error.11006":"\ud83e\udd8a You cancelled requested operation.","error.11007":"\ud83e\udd8a Invalid chain id #:chainId"}')},41:function(e){e.exports=JSON.parse('{"lang":"\u4e2d","chain":"Galaxy\u94fe","bridge":"Galaxy\u6865","description":"\u66f4\u5feb\uff0c\u6700\u5b89\u5168\u4ea4\u6613Galaxy\u94fe","wallet.connect":"\u94b1\u5305\u8fde\u63a5","chain.glxy":"Galaxy\u94fe","chain.eth":"\u4ee5\u592a\u574a\u94fe","chain.bnb":"\u5e01\u5b89\u667a\u80fd\u94fe","chain.trx":"\u6ce2\u6768\u94fe","chain.ht":"HECO\u94fe","token.native":"Native Token","end":""}')},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),i=n.n(r),s=n(29),o=n(5),l=n(12),d=n(6),u=n(2),g=n(8),h=n(3),b=n.n(h),p=n(22),j=n(31),m=n(18),x=n(27),f=(n(28),n(19)),v={"en-US":n(40),"zh-CN":n(41)},O=window.localStorage.getItem("lang")||"en-US",k="GLX-CXAA112",w=[],C={};try{var y=window.localStorage.getItem(k);y&&(w=JSON.parse(y)),(y=window.localStorage.getItem(k+"-addedtokens"))&&(C=JSON.parse(y))}catch(J){console.log(J)}var N={lang:O,L:v[O],loading:!1,txs:w,addedTokens:C},S=Object(f.b)({name:"bridge",initialState:N,reducers:{update:function(e,t){for(var n in t.payload)void 0===e[n]&&new Error("\ud83e\udd8a undefined account item"),e[n]=t.payload[n]}}}),B="connected",P="GLX-CXAA112",T=x,I="CXS",E=function(){var e=Object(m.c)((function(e){return e})),t=Object(m.b)(),n=function(e){return t(S.actions.update(e))},a=function(){var e=Object(d.a)(b.a.mark((function e(t,n,a){var c,r,i,s,o,l,d,u,g,h,j,m,x,f,v,O;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=window,r=c.ethers,e.prev=1,i=T[t],s=[],o=0,l=Object(p.a)(a);try{for(l.s();!(d=l.n()).done;)(u=d.value)===t?s.push({jsonrpc:"2.0",method:"eth_getBalance",params:[n,"latest"],id:o++}):s.push({jsonrpc:"2.0",method:"eth_call",params:[{to:i.tokens[u].contract,data:"0x70a08231000000000000000000000000".concat(n.slice(2))},"latest"],id:o++})}catch(J){l.e(J)}finally{l.f()}return e.next=9,fetch(i.rpc,{body:JSON.stringify(s),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 9:return g=e.sent,e.next=12,g.json();case 12:if(null===(h=e.sent)||h.length!==s.length){e.next=19;break}j={},m=0,x=Object(p.a)(a);try{for(x.s();!(f=x.n()).done;)v=f.value,O=h[m++].result,j[v]=Number(v===t?r.utils.formatEther(O):r.utils.formatUnits(O,i.tokens[v].decimals))}catch(J){x.e(J)}finally{x.f()}return e.abrupt("return",j);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t,n,a){return e.apply(this,arguments)}}(),c=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.a)(Object(u.a)({},e),{},{update:n,checkBalance:a,check:c,addTx:function(t){var a=[t].concat(Object(j.a)(e.txs));a.length>10&&a.pop(),window.localStorage.setItem(P,JSON.stringify(a)),n({txs:a})},addToken:function(t,a){var c=Object(u.a)(Object(u.a)({},e.addedTokens),{},Object(l.a)({},"".concat(t,"-").concat(a),!0));window.localStorage.setItem("GLX-CXAA112-addedtokens",JSON.stringify(c)),n({addedTokens:c})}})},D=(n(42),n(43),n.p+"static/media/bg.5ce40df4.webp"),A=n(1),X=function(e){var t=e.value,n=e.data,a=e.onChange,r=c.a.useRef(null),i=c.a.useState(Math.round(1e8*Math.random())),s=Object(g.a)(i,1)[0],o=c.a.useState(null),l=Object(g.a)(o,2),d=l[0],u=l[1],h=c.a.useState(""),b=Object(g.a)(h,2),p=b[0],j=b[1];c.a.useEffect((function(){var e=n.find((function(e){return e.key===t}));e&&u(e)}),[t,n]);return Object(A.jsxs)("div",{className:"asset",children:[Object(A.jsx)("input",{ref:r,id:"asset".concat(s),type:"checkbox",style:{display:"none"}}),Object(A.jsxs)("label",{className:"asset",htmlFor:"asset".concat(s),style:{cursor:"pointer"},children:[Object(A.jsx)("div",{className:"flex",style:{position:"relative"},children:null!==d&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("img",{src:d.icon,style:{width:20,height:20,marginRight:10},alt:d.key}),Object(A.jsx)("span",{children:d.label})]})}),Object(A.jsx)("div",{children:Object(A.jsx)("svg",{width:"11",fill:"#888",viewBox:"0 0 11 11",children:Object(A.jsx)("path",{d:"M6.431 5.25L2.166 9.581l.918.919 5.25-5.25L3.084 0l-.918.919L6.43 5.25z"})})})]}),Object(A.jsxs)("div",{className:"list",children:[n.length>10&&Object(A.jsxs)("div",{className:"search",children:[Object(A.jsx)("svg",{width:"24",height:"24",fill:"#5e6673",viewBox:"0 0 24 24",children:Object(A.jsx)("path",{d:"M3 10.982c0 3.845 3.137 6.982 6.982 6.982 1.518 0 3.036-.506 4.149-1.416L18.583 21 20 19.583l-4.452-4.452c.81-1.113 1.416-2.631 1.416-4.149 0-1.922-.81-3.643-2.023-4.958C13.726 4.81 11.905 4 9.982 4 6.137 4 3 7.137 3 10.982zM13.423 7.44a4.819 4.819 0 011.416 3.441c0 1.315-.506 2.53-1.416 3.44a4.819 4.819 0 01-3.44 1.417 4.819 4.819 0 01-3.441-1.417c-1.012-.81-1.518-2.023-1.518-3.339 0-1.315.506-2.53 1.416-3.44.911-1.012 2.227-1.518 3.542-1.518 1.316 0 2.53.506 3.44 1.416z"})}),Object(A.jsx)("input",{type:"text",value:p,maxLength:6,onChange:function(e){return j(e.target.value.trim())}})]}),Object(A.jsx)("div",{className:"scroll",style:{maxHeight:200,boxShadow:"0 3px 5px #000"},children:Object(A.jsx)("ul",{children:n.map((function(e,t){return Object(A.jsxs)("li",{onClick:function(){return t=e.key,a&&a(t),void(r&&r.current&&(r.current.checked=!1));var t},children:[Object(A.jsx)("img",{src:e.icon,loading:"lazy",style:{width:20,height:20,marginRight:10},alt:e.key}),Object(A.jsx)("span",{children:e.label})]},t)}))})})]}),Object(A.jsx)("label",{className:"overlay",htmlFor:"asset".concat(s)})]})},L=function(e){var t=e.title,n=e.children,a=e.onClose;return Object(A.jsxs)("div",{className:"modal",children:[Object(A.jsx)("div",{className:"modal-overlay"}),Object(A.jsxs)("div",{className:"modal-container",children:[Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5em 1em 0.5em 1em",borderBottom:"1px solid var(--border)"},children:[Object(A.jsx)("h4",{style:{display:"flex",alignItems:"center"},children:t}),Object(A.jsx)("div",{style:{textAlign:"right"},children:Object(A.jsx)("span",{className:"modal-close",onClick:function(){return a()},children:"\xd7"})})]}),Object(A.jsx)("div",{style:{padding:"1em"},children:n})]})]})},H=(n(45),function(e){var t=e.chain,n=e.data,a=e.address,r=e.onChange,i=e.onClose,s=E().checkBalance,o=c.a.useState(!1),l=Object(g.a)(o,2),d=l[0],u=l[1],h=c.a.useState({}),b=Object(g.a)(h,2),p=b[0],j=b[1];return c.a.useEffect((function(){u(!0),console.log(" chain, data, address :: "),console.log(t,n,a),s(t,a,n.map((function(e){return e.key}))).then((function(e){null!==e&&j(e),u(!1)}))}),[t,n,a]),Object(A.jsxs)(L,{title:"Select a token",onClose:function(){return i&&i()},children:[Object(A.jsx)("div",{children:Object(A.jsx)("ul",{className:"tokenlist",children:n.map((function(e,t){return Object(A.jsxs)("li",{onClick:function(){return t=e.key,n=p[e.key]||0,r&&r(t,n),void(i&&i());var t,n},children:[Object(A.jsxs)("div",{className:"flex middle gap",children:[Object(A.jsxs)("div",{style:{width:26,height:26,position:"relative"},children:[Object(A.jsx)("img",{src:e.icon,width:26,height:26,alt:e.key}),e.overlayIcon&&Object(A.jsx)("img",{src:e.overlayIcon,width:16,height:16,style:{position:"absolute",bottom:-5,left:-5},alt:e.key})]}),Object(A.jsx)("span",{children:e.label})]}),Object(A.jsx)("span",{children:void 0!==p[e.key]?"".concat(p[e.key]," ").concat(e.key):d?Object(A.jsx)("div",{className:"loader",children:"Loading..."}):"0.0"})]},t)}))})}),Object(A.jsx)("div",{className:"mt-2",children:Object(A.jsx)("button",{className:"btn btn-primary full",onClick:function(){return i&&i()},children:"Close"})})]})}),G=function(){var e=E(),t=e.addedTokens,n=e.addToken,a=e.L,r=e.txs,i=e.addTx,s=c.a.useRef(null),o=c.a.useState([]),h=Object(g.a)(o,2),p=h[0],j=h[1],m=c.a.useState({loading:!1,submitLabel:"",query:"",chain:"BNB",targetChain:I,token:"",value:"0.0",balance:0,fee:0,receiveValue:0,showTokens:!1}),x=Object(g.a)(m,2),f=x[0],v=x[1],O=c.a.useState({show:!1,loading:!1,selected:"",data:[]}),k=Object(g.a)(O,2),w=k[0],C=k[1],y=c.a.useState({status:"",address:"",balance:0,err:""}),N=Object(g.a)(y,2),S=N[0],P=N[1],L=c.a.useState({prices:{},gasPrices:{},maxGasLimit:0}),G=Object(g.a)(L,2),U=G[0],R=G[1],M=function(e){return v(Object(u.a)(Object(u.a)({},f),e))},J=c.a.useState(+new Date),V=Object(g.a)(J,2),Y=V[0],q=V[1],_=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://bridge.neonlink.io/api",{body:JSON.stringify({jsonrpc:"2.0",method:"get-info",params:[],id:1}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(Math.round(+new Date/1e3),n.result),R(n.result),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),F=function(e){W(f.chain,e)},z=function(e){var t=Number(e);for(var n in T)if(T[n].chainId===t){var a=f.targetChain;return"CXS"===n&&"CXS"===a?a=f.chain:"CXS"!==n&&"CXS"!==a&&(a="CXS"),v(Object(u.a)(Object(u.a)({},f),{},{chain:n,targetChain:a})),void W(n)}W(f.chain)};c.a.useEffect((function(){var e=window.ethereum;e?(e.on("accountsChanged",F),e.on("chainChanged",z)):console.log("not found metamask")}),[f.chain]),c.a.useEffect((function(){var e=[];for(var t in T)t!==I&&e.push({key:t,label:T[t].label,icon:"/networks/".concat(t,".svg")});j(e),te(f.chain)}),[]),c.a.useEffect((function(){S.status===B&&K().then((function(e){e===T[f.chain].chainId?P(Object(u.a)(Object(u.a)({},S),{},{status:B,err:""})):P(Object(u.a)(Object(u.a)({},S),{},{status:"",err:"\ud83e\udd8a walllet disconnected"}))}))}),[f.chain]),c.a.useEffect((function(){_();var e=setTimeout((function(){return q(+new Date)}),1e4);return function(){return clearTimeout(e)}}),[Y]);var W=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var a,c,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=window,c=a.ethereum,r="",e.prev=2,P(Object(u.a)(Object(u.a)({},S),{},{status:"connecting",err:""})),!c){e.next=24;break}if(void 0!==n){e.next=9;break}return e.next=8,c.request({method:"eth_requestAccounts"});case 8:n=e.sent;case 9:if(!n||!n.length){e.next=21;break}return e.next=12,K();case 12:if((i=e.sent)!==T[t].chainId){e.next=18;break}return P(Object(u.a)(Object(u.a)({},S),{},{status:B,address:n[0],err:""})),e.abrupt("return");case 18:r="\ud83e\udd8a Invalid chain id #:chainId".replace(":chainId",String(i));case 19:e.next=22;break;case 21:r="\ud83e\udd8a No selected address.";case 22:e.next=25;break;case 24:r="\ud83e\udd8a You must install Metamask into your browser: https://metamask.io/download.html";case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),r="\ud83e\udd8a "+e.t0.message;case 30:P(Object(u.a)(Object(u.a)({},S),{},{status:"",address:"",err:r}));case 31:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(b.a.mark((function e(a,c,r){var i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=window,!(s=i.ethereum)){e.next=14;break}if(e.prev=2,!t["".concat(f.chain,"-").concat(c)]){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:a,symbol:c,decimals:r,image:"https://resource.neonlink.io/symbol/".concat(c.toLowerCase(),".svg")}}});case 7:e.sent?(console.log("token ".concat(c," added!")),n(f.chain,c)):console.log("token ".concat(c," failed!")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(n=t.ethereum)){e.next=7;break}return e.t0=Number,e.next=5,n.request({method:"eth_chainId"});case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(f.chain);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,a,c,r,i,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.targetChain===I?"chain":"targetChain",c="chain"===a?t:f.chain,r="targetChain"===a?t:f.targetChain,i=ce(c,r,f.token,Number(f.value)),s=i.receiveValue,o=i.fee,M((n={},Object(l.a)(n,a,t),Object(l.a)(n,"token",""),Object(l.a)(n,"receiveValue",s),Object(l.a)(n,"fee",o),n)),"chain"!==a){e.next=10;break}return e.next=8,te(t);case 8:return e.next=10,W(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,f.token&&(a=ce(f.targetChain,f.chain,f.token,Number(f.value)),t=a.receiveValue,n=a.fee),M({chain:f.targetChain,targetChain:f.chain,token:"",receiveValue:t,fee:n}),e.next=5,te(f.targetChain);case 5:if(!e.sent){e.next=9;break}return e.next=9,W(f.targetChain);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window,!(a=n.ethereum)){e.next=13;break}return e.prev=2,e.next=5,a.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+T[t].chainId.toString(16)}]});case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,ne(t);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window,!(c=n.ethereum)){e.next=12;break}return e.prev=2,r=T[t].chainId,e.next=6,c.request({method:"wallet_addEthereumChain",params:[{chainId:"0x"+r.toString(16),chainName:a["chain."+t.toLowerCase()],nativeCurrency:{name:T[t].label,symbol:t,decimals:18},rpcUrls:[T[t].rpc],blockExplorerUrls:[T[t].explorer]}]});case 6:return e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var a,c,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.chain===t){e.next=4;break}return a=T[f.chain].tokens[t],e.next=4,Z(a.contract||"",t,a.decimals);case 4:c=ce(f.chain,f.targetChain,t,Number(f.value)),r=c.receiveValue,i=c.fee,M({token:t,balance:n,receiveValue:r,fee:i});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(e,t,n,a){if(""!==n&&void 0!==U.gasPrices[e]){var c=U.maxGasLimit*U.gasPrices[t]/1e9,r=n===t?18:T[t].tokens[n].decimals,i=Number((c*U.prices[t]/U.prices[n]).toFixed(r<6?r:6));return a>i?{receiveValue:Number((a-i).toFixed(r<6?r:6)),fee:i}:{receiveValue:0,fee:i}}return{receiveValue:0,fee:0}},re=function(){var e=Object(d.a)(b.a.mark((function e(t,n,a){var c,r,i,s,o,l,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=T[t],r=window,i=r.ethers,s=new i.providers.JsonRpcProvider(c.rpc),o=0,t!==n){e.next=10;break}return e.next=7,s.getBalance(a);case 7:o=e.sent,e.next=14;break;case 10:return l=new i.Contract(c.tokens[n].contract,["function balanceOf(address account) public view returns (uint256)"],s),e.next=13,l.balanceOf(a);case 13:o=e.sent;case 14:return d=t===n?18:c.tokens[n].decimals,e.abrupt("return",Number(Number(i.utils.formatUnits(o,d)).toFixed(d>6?6:d)));case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var a,c,r,i,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window,c=a.ethers,r=T[t],i=new c.providers.JsonRpcProvider(r.rpc),s=0;case 4:if(!(++s<100)){e.next=14;break}return e.next=7,i.getTransactionReceipt(n);case 7:if(!(o=e.sent)||!o.blockNumber){e.next=10;break}return e.abrupt("return",!0);case 10:return e.next=12,new Promise((function(e){return setTimeout(e,5e3)}));case 12:e.next=4;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n,a,c,r,o,l,d,g,h,p,j,m,x,v,O,k,w,C,y,N,E,D,A,X,L,H,G,U,R,J;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S.status===B){e.next=4;break}return Q(),e.abrupt("return");case 4:if(""!==f.token){e.next=7;break}return P(Object(u.a)(Object(u.a)({},S),{},{err:"Please select a token."})),e.abrupt("return");case 7:if(t=T[f.chain],n=t.tokens[f.token],a=T[f.targetChain],0!==(c=Number(f.value))){e.next=16;break}return null===s||void 0===s||null===(r=s.current)||void 0===r||r.focus(),null===s||void 0===s||null===(o=s.current)||void 0===o||o.select(),P(Object(u.a)(Object(u.a)({},S),{},{err:"Please input amount"})),e.abrupt("return");case 16:if(!(c>f.balance)){e.next=21;break}return null===s||void 0===s||null===(l=s.current)||void 0===l||l.focus(),null===s||void 0===s||null===(d=s.current)||void 0===d||d.select(),P(Object(u.a)(Object(u.a)({},S),{},{err:"You haven't enough balance"})),e.abrupt("return");case 21:if(0!==f.fee){e.next=26;break}return null===s||void 0===s||null===(g=s.current)||void 0===g||g.focus(),null===s||void 0===s||null===(h=s.current)||void 0===h||h.select(),P(Object(u.a)(Object(u.a)({},S),{},{err:"Incorrect transaction fee."})),e.abrupt("return");case 26:if(!(c<f.fee)){e.next=31;break}return null===s||void 0===s||null===(p=s.current)||void 0===p||p.focus(),null===s||void 0===s||null===(j=s.current)||void 0===j||j.select(),P(Object(u.a)(Object(u.a)({},S),{},{err:"The network fee is higher than the swap amount."})),e.abrupt("return");case 31:if(f.token!==f.targetChain&&(f.targetChain===I||a.tokens[f.token].pegging)){e.next=40;break}return M({loading:!0,submitLabel:"checking store balance..."}),e.next=35,re(f.targetChain,f.token,a.bridge);case 35:if(m=e.sent,!(c>m)){e.next=40;break}return P(Object(u.a)(Object(u.a)({},S),{},{err:"Sorry, there is not enough balance in the bridge store."})),M({loading:!1,submitLabel:"SUBMIT"}),e.abrupt("return");case 40:if(x=window,v=x.ethers,O=x.ethereum,k=new v.providers.Web3Provider(O),w=new v.Contract(t.bridge,["function deposit(address target, address token, uint amount, uint targetChain) external payable"],k),C=v.utils.parseUnits(f.value,n?n.decimals:18),y=Math.round((new Date).getTime()/1e3),N=S.address,void 0===n){e.next=76;break}return E=new v.Contract(n.contract,["function allowance(address account, address spender) public view returns (uint256)","function approve(address spender, uint256 amount) public returns (bool)"],k),M({loading:!0,submitLabel:"checking allowance..."}),e.next=51,E.allowance(S.address,t.bridge);case 51:if(!e.sent.lt(C)){e.next=63;break}return M({loading:!0,submitLabel:"approve bridge..."}),e.next=56,E.populateTransaction.approve(t.bridge,C.toHexString());case 56:return D=e.sent,A=Object(u.a)(Object(u.a)({},D),{},{from:S.address,value:"0x00",chainId:v.utils.hexlify(t.chainId)}),e.next=60,O.request({method:"eth_sendTransaction",params:[A]});case 60:return X=e.sent,e.next=63,ie(f.chain,X);case 63:return M({loading:!0,submitLabel:"depositing..."}),e.next=66,w.populateTransaction.deposit(N,n.contract,C.toHexString(),a.chainId);case 66:return L=e.sent,H=Object(u.a)(Object(u.a)({},L),{},{from:S.address,value:"0x00",chainId:v.utils.hexlify(t.chainId)}),e.next=70,O.request({method:"eth_sendTransaction",params:[H]});case 70:return G=e.sent,i({txId:G,chain:f.chain,targetChain:f.targetChain,address:S.address,token:f.token,value:Number(f.value),updated:0,created:y}),e.next=74,ie(f.chain,G);case 74:e.next=87;break;case 76:return M({loading:!0,submitLabel:"depositing..."}),e.next=79,w.populateTransaction.deposit(N,"0x0000000000000000000000000000000000000000",C.toHexString(),a.chainId);case 79:return U=e.sent,R=Object(u.a)(Object(u.a)({},U),{},{from:S.address,value:C.toHexString(),chainId:v.utils.hexlify(t.chainId)}),e.next=83,O.request({method:"eth_sendTransaction",params:[R]});case 83:return J=e.sent,i({txId:J,chain:f.chain,targetChain:f.targetChain,address:S.address,token:f.token,value:Number(f.value),updated:0,created:y}),e.next=87,ie(f.chain,J);case 87:M({loading:!1}),e.next=94;break;case 90:e.prev=90,e.t0=e.catch(0),4001===e.t0.code?P(Object(u.a)(Object(u.a)({},S),{},{err:"\ud83e\udd8a You cancelled requested operation."})):P(Object(u.a)(Object(u.a)({},S),{},{err:e.t0.message})),M({loading:!1});case 94:case"end":return e.stop()}}),e,null,[[0,90]])})));return function(){return e.apply(this,arguments)}}();T[f.targetChain].tokens[f.token],T[f.chain].erc20,f.query.toLowerCase();return Object(A.jsx)("div",{className:"root dark-theme",style:{background:"url(".concat(D,")"),backgroundColor:"black",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:Object(A.jsxs)("div",{className:"container md",children:[Object(A.jsxs)("header",{className:"flex middle justify",children:[Object(A.jsx)("img",{src:"/nextep.png",className:"header-logo",alt:"title"}),S.address?Object(A.jsx)("span",{style:{color:"#35ff35"},children:"".concat(S.address.slice(0,10),"......").concat(S.address.slice(-4))}):Object(A.jsx)("button",{className:"btn button",onClick:function(){return Q()},children:"CONNECT WALLET"})]}),Object(A.jsxs)("main",{children:[Object(A.jsx)("h1",{className:"mt-1",children:"BRIDGE"}),Object(A.jsx)("h4",{children:"Bridge your tokens with no additional fees"}),Object(A.jsxs)("div",{className:"swap form mt-3 p-3",children:[Object(A.jsxs)("div",{className:"networks",children:[Object(A.jsxs)("div",{style:{width:"40%"},children:[Object(A.jsx)("div",{className:"title",children:"FROM CHAIN"}),Object(A.jsx)("div",{className:"chainicon text-center mb-2",children:f.chain===I?Object(A.jsx)("img",{src:"/nxchain.png",width:80,height:80,alt:I}):Object(A.jsx)("img",{src:"/networks/".concat(f.chain,".svg"),width:80,height:80,alt:f.chain})}),Object(A.jsx)("div",{children:f.chain===I?Object(A.jsx)(X,{value:f.chain,data:[{key:I,label:T.CXS.label,icon:"/nxchain.png"}]}):Object(A.jsx)(X,{value:f.chain,data:p,onChange:$})})]}),Object(A.jsx)("div",{className:"flex center",style:{paddingLeft:20,paddingRight:20},children:Object(A.jsx)("button",{className:"switch",onClick:function(){return ee()},children:Object(A.jsx)("svg",{viewBox:"0 0 19 15",fill:"#D873E1",width:19,height:15,style:{transform:"rotate(-45deg)"},children:Object(A.jsx)("path",{d:"M12.1182 0.357178L17.8707 6.10957C18.4921 6.73097 18.4921 7.73846 17.8707 8.35986L12.1907 14.0398L9.94046 11.7895L12.904 8.82591H0.963135V5.64352H12.904L9.86787 2.60747L12.1182 0.357178Z"})})})}),Object(A.jsxs)("div",{style:{width:"40%"},children:[Object(A.jsx)("div",{className:"title",children:"TO CHAIN"}),Object(A.jsx)("div",{className:"chainicon text-center mb-2",children:f.targetChain===I?Object(A.jsx)("img",{src:"/nxchain.png",width:80,height:80,alt:I}):Object(A.jsx)("img",{src:"/networks/".concat(f.targetChain,".svg"),width:80,height:80,alt:f.chain})}),Object(A.jsx)("div",{children:f.targetChain===I?Object(A.jsx)(X,{value:f.targetChain,data:[{key:I,label:T.CXS.label,icon:"/nxchain.png"}]}):Object(A.jsx)(X,{value:f.targetChain,data:p,onChange:$})})]})]}),Object(A.jsxs)("div",{className:"tokens p-1 mt-2",style:{backgroundColor:"rgb(43, 47, 54)"},children:[Object(A.jsxs)("button",{className:"btn full pl-1 pr-1 flex middle justify",style:{width:"50%",backgroundColor:"var(--bg-body)"},onClick:function(){return function(){if(S.status!==B)P(Object(u.a)(Object(u.a)({},S),{},{err:"First, connect wallet."}));else{var e=f.chain===I?"https://bridge.nxchainscan.com/nxchain.png":"/networks/".concat(f.chain,".svg"),t=[{key:f.chain,label:T[f.chain].label,icon:e}];for(var n in T[f.chain].tokens)n!==f.targetChain&&void 0===T[f.targetChain].tokens[n]||t.push({key:n,label:T[f.chain].tokens[n].label,icon:n===I?"/CXS.png":"/coins/".concat(n,".svg"),overlayIcon:e});C(Object(u.a)(Object(u.a)({},w),{},{data:t,show:!0}))}}()},children:[""===f.token?"Select Token":Object(A.jsxs)("div",{className:"flex middle gap",children:[Object(A.jsxs)("div",{style:{width:24,height:24,position:"relative"},children:[Object(A.jsx)("img",{src:f.token===I?"/nxchain.png":f.chain===f.token?"/networks/".concat(f.chain,".svg"):"/coins/".concat(f.token,".svg"),width:24,height:24,alt:f.token}),f.chain!==f.token&&Object(A.jsx)("img",{src:f.chain===I?"/nxchain.png":"/networks/".concat(f.chain,".svg"),width:16,height:16,style:{position:"absolute",bottom:-5,left:-5},alt:f.chain})]}),f.token," (",f.chain===f.token?"Native Coin":T[f.chain].erc20,")"]}),Object(A.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"12",width:"12",children:Object(A.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})]}),Object(A.jsx)("div",{style:{width:"50%"},children:Object(A.jsx)("input",{ref:s,onFocus:function(e){return e.target.select()},className:"amount",type:"number",value:f.value,onChange:function(e){return function(e){var t=ce(f.chain,f.targetChain,f.token,Number(e)),n=t.receiveValue,a=t.fee;M({value:e,receiveValue:n,fee:a})}(e.target.value)}})})]}),""!==f.value&&f.fee&&f.token?Object(A.jsxs)("p",{className:"gray",children:["You will receive \u2248 ",f.receiveValue," ",f.token," ",Object(A.jsxs)("small",{children:["(",f.token===f.targetChain?"native token":T[f.targetChain].erc20,")"]}),", network fee \u2248 ",f.fee]}):null,Object(A.jsxs)("div",{style:{paddingTop:20},children:[Object(A.jsx)("button",{disabled:f.loading,className:"btn button full",onClick:se,children:f.loading?Object(A.jsxs)("div",{className:"flex center",children:[Object(A.jsx)("div",{style:{width:"1.5em"},children:Object(A.jsx)("div",{className:"loader",children:"Loading..."})}),Object(A.jsx)("div",{children:f.submitLabel})]}):S.status===B?"SUBMIT":"CONNECT WALLET"}),Object(A.jsx)("div",{className:"mt-1",children:S.err&&Object(A.jsx)("p",{style:{color:"red",backgroundColor:"#2b2f36",padding:10},children:S.err})})]}),r.length?Object(A.jsxs)("div",{style:{paddingTop:20},children:[Object(A.jsx)("p",{children:Object(A.jsx)("b",{className:"label",children:"Recent transactions:"})}),Object(A.jsx)("div",{className:"scroll",style:{maxHeight:300},children:r.map((function(e,t){return Object(A.jsxs)("div",{className:"tx flex"+(void 0===e.receivedAmount?" pending":""),children:[Object(A.jsxs)("div",{className:"c1",children:[Object(A.jsx)("img",{src:e.chain===I?"/nxchain.png":"/networks/".concat(e.chain,".svg"),style:{width:16,height:16,marginRight:5},alt:e.chain}),Object(A.jsx)("span",{children:"To"}),Object(A.jsx)("img",{src:e.targetChain===I?"/nxchain.png":"/networks/".concat(e.targetChain,".svg"),style:{width:16,height:16,marginLeft:5},alt:e.targetChain})]}),Object(A.jsx)("code",{className:"c2",children:Object(A.jsx)("a",{className:"cmd",href:T[e.chain].explorer+"/tx/"+e.txId,target:"_blank",rel:"noreferrer",children:e.txId.slice(0,10)+"..."+e.txId.slice(-4)})}),Object(A.jsxs)("code",{className:"c3",children:[Object(A.jsx)("img",{src:"/coins/".concat(e.token,".svg"),loading:"lazy",style:{width:20,height:20,marginRight:5},alt:e.token}),Object(A.jsx)("span",{children:e.value})]})]},t)}))})]}):null,Object(A.jsx)("p",{className:"mt-3 gray text-center",children:"Powered by Nxchain Link"})]}),w.show&&S.address&&Object(A.jsx)(H,{chain:f.chain,data:w.data,address:S.address,onChange:ae,onClose:function(){return C(Object(u.a)(Object(u.a)({},w),{},{show:!1}))}})]})]})})},U=n(32);n(46);var R=function(){return Object(A.jsxs)(s.a,{children:[Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{exact:!0,path:"/",component:G}),Object(A.jsx)(o.a,{path:"*",component:G})]}),Object(A.jsx)(U.a,{})]})},M=Object(f.a)({reducer:S.reducer});n(51).config(),i.a.render(Object(A.jsx)(m.a,{store:M,children:Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(R,{})})}),document.getElementById("root"))}},[[54,1,2]]]);